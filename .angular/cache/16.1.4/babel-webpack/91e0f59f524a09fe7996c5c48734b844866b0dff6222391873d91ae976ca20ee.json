{"ast":null,"code":"import _asyncToGenerator from \"/home/syehino/Projects/Event-Management-System/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet BookingPagePage = class BookingPagePage {\n  constructor(cartService, alertController, router) {\n    this.cartService = cartService;\n    this.alertController = alertController;\n    this.router = router;\n    this.cartItems = [];\n    this.cartCrews = [];\n    this.combinedCart = [];\n    this.eventsTotalPrice = 0;\n    this.crewsTotalPrice = 0;\n    this.totalPrice = 0;\n  }\n  ngOnInit() {\n    this.cartItems = this.cartService.getCartItems();\n    this.cartCrews = this.cartService.getSelectedCrews();\n    this.combinedCart = this.cartItems.concat(this.cartCrews);\n    console.log(this.combinedCart);\n    console.log(this.crewsTotalPrice);\n  }\n  ionViewWillEnter() {\n    this.eventsTotalPrice = this.cartService.getEventTotalPrice();\n    this.crewsTotalPrice = this.cartService.getCrewsTotalPrice();\n    console.log(this.eventsTotalPrice);\n    console.log(this.crewsTotalPrice);\n    this.totalPrice = this.eventsTotalPrice + this.crewsTotalPrice;\n    console.log(this.totalPrice);\n  }\n  // Mock checkout process\n  checkout() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      // Implement your checkout logic here, e.g., sending payment request to server, etc.\n      // For this mockup, we'll show a confirmation alert.\n      const alert = yield _this.alertController.create({\n        header: 'Checkout Success',\n        message: 'Your booking has been processed successfully.',\n        buttons: [{\n          text: 'OK',\n          handler: () => {\n            //add to order history\n            //clear cart\n            _this.cartService.clearCart();\n            location.reload();\n          }\n        }]\n      });\n      yield alert.present();\n    })();\n  }\n};\nBookingPagePage = __decorate([Component({\n  selector: 'app-booking-page',\n  templateUrl: './booking-page.page.html',\n  styleUrls: ['./booking-page.page.scss']\n})], BookingPagePage);\nexport { BookingPagePage };","map":{"version":3,"names":["Component","BookingPagePage","constructor","cartService","alertController","router","cartItems","cartCrews","combinedCart","eventsTotalPrice","crewsTotalPrice","totalPrice","ngOnInit","getCartItems","getSelectedCrews","concat","console","log","ionViewWillEnter","getEventTotalPrice","getCrewsTotalPrice","checkout","_this","_asyncToGenerator","alert","create","header","message","buttons","text","handler","clearCart","location","reload","present","__decorate","selector","templateUrl","styleUrls"],"sources":["/home/syehino/Projects/Event-Management-System/src/app/booking-page/booking-page.page.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AlertController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { CartService } from '../services/cart.service';\n\n@Component({\n  selector: 'app-booking-page',\n  templateUrl: './booking-page.page.html',\n  styleUrls: ['./booking-page.page.scss'],\n})\nexport class BookingPagePage implements OnInit {\n\n  constructor(private cartService: CartService, private alertController: AlertController, private router: Router) { }\n\n  cartItems: any[] = [];\n  cartCrews: any[] = [];\n  combinedCart: any[] = [];\n  eventsTotalPrice: number = 0;\n  crewsTotalPrice: number = 0;\n  totalPrice: number = 0;\n\n  ngOnInit() {\n    this.cartItems = this.cartService.getCartItems();\n    this.cartCrews = this.cartService.getSelectedCrews();\n    this.combinedCart = this.cartItems.concat(this.cartCrews);\n    console.log(this.combinedCart);\n    console.log(this.crewsTotalPrice);\n  }\n\n  ionViewWillEnter() {\n    this.eventsTotalPrice = this.cartService.getEventTotalPrice();\n    this.crewsTotalPrice = this.cartService.getCrewsTotalPrice();\n    console.log(this.eventsTotalPrice)\n    console.log(this.crewsTotalPrice);\n    this.totalPrice = this.eventsTotalPrice + this.crewsTotalPrice;\n    console.log(this.totalPrice);\n  }\n\n// Mock checkout process\nasync checkout() {\n  // Implement your checkout logic here, e.g., sending payment request to server, etc.\n  // For this mockup, we'll show a confirmation alert.\n\n  const alert = await this.alertController.create({\n    header: 'Checkout Success',\n    message: 'Your booking has been processed successfully.',\n    buttons: [\n      {\n        text: 'OK',\n        handler: () => {\n          //add to order history\n          //clear cart\n          this.cartService.clearCart();\n          location.reload();\n        },\n      },\n    ],\n  });\n\n  await alert.present();\n}\n\n}\n"],"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AAUjD,IAAaC,eAAe,GAA5B,MAAaA,eAAe;EAE1BC,YAAoBC,WAAwB,EAAUC,eAAgC,EAAUC,MAAc;IAA1F,KAAAF,WAAW,GAAXA,WAAW;IAAuB,KAAAC,eAAe,GAAfA,eAAe;IAA2B,KAAAC,MAAM,GAANA,MAAM;IAEtG,KAAAC,SAAS,GAAU,EAAE;IACrB,KAAAC,SAAS,GAAU,EAAE;IACrB,KAAAC,YAAY,GAAU,EAAE;IACxB,KAAAC,gBAAgB,GAAW,CAAC;IAC5B,KAAAC,eAAe,GAAW,CAAC;IAC3B,KAAAC,UAAU,GAAW,CAAC;EAP4F;EASlHC,QAAQA,CAAA;IACN,IAAI,CAACN,SAAS,GAAG,IAAI,CAACH,WAAW,CAACU,YAAY,EAAE;IAChD,IAAI,CAACN,SAAS,GAAG,IAAI,CAACJ,WAAW,CAACW,gBAAgB,EAAE;IACpD,IAAI,CAACN,YAAY,GAAG,IAAI,CAACF,SAAS,CAACS,MAAM,CAAC,IAAI,CAACR,SAAS,CAAC;IACzDS,OAAO,CAACC,GAAG,CAAC,IAAI,CAACT,YAAY,CAAC;IAC9BQ,OAAO,CAACC,GAAG,CAAC,IAAI,CAACP,eAAe,CAAC;EACnC;EAEAQ,gBAAgBA,CAAA;IACd,IAAI,CAACT,gBAAgB,GAAG,IAAI,CAACN,WAAW,CAACgB,kBAAkB,EAAE;IAC7D,IAAI,CAACT,eAAe,GAAG,IAAI,CAACP,WAAW,CAACiB,kBAAkB,EAAE;IAC5DJ,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,gBAAgB,CAAC;IAClCO,OAAO,CAACC,GAAG,CAAC,IAAI,CAACP,eAAe,CAAC;IACjC,IAAI,CAACC,UAAU,GAAG,IAAI,CAACF,gBAAgB,GAAG,IAAI,CAACC,eAAe;IAC9DM,OAAO,CAACC,GAAG,CAAC,IAAI,CAACN,UAAU,CAAC;EAC9B;EAEF;EACMU,QAAQA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACZ;MACA;MAEA,MAAMC,KAAK,SAASF,KAAI,CAAClB,eAAe,CAACqB,MAAM,CAAC;QAC9CC,MAAM,EAAE,kBAAkB;QAC1BC,OAAO,EAAE,+CAA+C;QACxDC,OAAO,EAAE,CACP;UACEC,IAAI,EAAE,IAAI;UACVC,OAAO,EAAEA,CAAA,KAAK;YACZ;YACA;YACAR,KAAI,CAACnB,WAAW,CAAC4B,SAAS,EAAE;YAC5BC,QAAQ,CAACC,MAAM,EAAE;UACnB;SACD;OAEJ,CAAC;MAEF,MAAMT,KAAK,CAACU,OAAO,EAAE;IAAC;EACxB;CAEC;AApDYjC,eAAe,GAAAkC,UAAA,EAL3BnC,SAAS,CAAC;EACToC,QAAQ,EAAE,kBAAkB;EAC5BC,WAAW,EAAE,0BAA0B;EACvCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,C,EACWrC,eAAe,CAoD3B;SApDYA,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}