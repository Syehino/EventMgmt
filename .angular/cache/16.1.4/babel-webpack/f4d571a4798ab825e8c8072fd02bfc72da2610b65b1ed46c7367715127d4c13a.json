{"ast":null,"code":"import * as i0 from \"@angular/core\";\nclass CartService {\n  constructor() {\n    this.cartItems = [];\n    this.selectedEvent = null;\n    this.selectedCrews = [];\n  }\n  isEventInCart(event) {\n    return this.cartItems.some(item => item.type === 'event' && item.id === event.id);\n  }\n  addToCart(event) {\n    const existingEventIndex = this.cartItems.findIndex(item => item.type === 'event');\n    if (existingEventIndex !== -1) {\n      // If an object with event.type = 'event' already exists, replace it with the new event\n      this.cartItems[existingEventIndex] = event;\n    } else {\n      // If no object with event.type = 'event' exists, simply add the event to the cart\n      this.cartItems.push(event);\n    }\n  }\n  getCartItems() {\n    return this.cartItems;\n  }\n  getSelectedEvent() {\n    return this.selectedEvent; // Return the selected event\n  }\n\n  setSelectedEvent(event) {\n    this.selectedEvent = event; // Set the selected event\n  }\n  //crews\n  setSelectedCrewIds(crewIds) {\n    this.selectedCrewIds = new Set(crewIds);\n  }\n  getSelectedCrewIds() {\n    return Array.from(this.selectedCrewIds);\n  }\n  setSelectedCrews(crews) {\n    this.selectedCrews = crews;\n  }\n  getSelectedCrews() {\n    return this.selectedCrews;\n  }\n  addCrewToCart(crew) {\n    // Add the crew to the selectedCrews array if it doesn't already exist\n    const existingCrew = this.selectedCrews.find(c => c.id === crew.id);\n    if (!existingCrew) {\n      this.selectedCrews.push(crew);\n    }\n  }\n  removeCrewFromCart(crew) {\n    // Remove the crew from the selectedCrews array\n    const index = this.selectedCrews.findIndex(c => c.id === crew.id);\n    if (index !== -1) {\n      this.selectedCrews.splice(index, 1);\n    }\n  }\n  clearSelectedCrews() {\n    // Clear the selectedCrews array\n    this.selectedCrews = [];\n  }\n}\nCartService.ɵfac = function CartService_Factory(t) {\n  return new (t || CartService)();\n};\nCartService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: CartService,\n  factory: CartService.ɵfac,\n  providedIn: 'root'\n});\nexport { CartService };","map":{"version":3,"names":["CartService","constructor","cartItems","selectedEvent","selectedCrews","isEventInCart","event","some","item","type","id","addToCart","existingEventIndex","findIndex","push","getCartItems","getSelectedEvent","setSelectedEvent","setSelectedCrewIds","crewIds","selectedCrewIds","Set","getSelectedCrewIds","Array","from","setSelectedCrews","crews","getSelectedCrews","addCrewToCart","crew","existingCrew","find","c","removeCrewFromCart","index","splice","clearSelectedCrews","factory","ɵfac","providedIn"],"sources":["/home/syehino/Projects/Event-Management-System/src/app/services/cart.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CartService {\n  private cartItems: any[] = [];\n  private selectedEvent: any = null;\n  private selectedCrews: any[] = [];\n\n  constructor() {}\n\n  isEventInCart(event: any): boolean {\n    return this.cartItems.some((item) => item.type === 'event' && item.id === event.id);\n  }\n\n  addToCart(event: any): void {\n    const existingEventIndex = this.cartItems.findIndex((item) => item.type === 'event');\n    if (existingEventIndex !== -1) {\n      // If an object with event.type = 'event' already exists, replace it with the new event\n      this.cartItems[existingEventIndex] = event;\n    } else {\n      // If no object with event.type = 'event' exists, simply add the event to the cart\n      this.cartItems.push(event);\n    }\n  }\n\n  getCartItems(): any[] {\n    return this.cartItems;\n  }\n\n  getSelectedEvent(): any {\n    return this.selectedEvent; // Return the selected event\n  }\n\n  setSelectedEvent(event: any): void {\n    this.selectedEvent = event; // Set the selected event\n  }\n\n\n  //crews\n\n  setSelectedCrewIds(crewIds: number[]): void {\n    this.selectedCrewIds = new Set(crewIds);\n  }\n\n  getSelectedCrewIds(): number[] {\n    return Array.from(this.selectedCrewIds);\n  }\n\n  setSelectedCrews(crews: any[]): void {\n    this.selectedCrews = crews;\n  }\n\n  getSelectedCrews(): any[] {\n    return this.selectedCrews;\n  }\n\n  addCrewToCart(crew: any): void {\n    // Add the crew to the selectedCrews array if it doesn't already exist\n    const existingCrew = this.selectedCrews.find((c) => c.id === crew.id);\n    if (!existingCrew) {\n      this.selectedCrews.push(crew);\n    }\n  }\n\n  removeCrewFromCart(crew: any): void {\n    // Remove the crew from the selectedCrews array\n    const index = this.selectedCrews.findIndex((c) => c.id === crew.id);\n    if (index !== -1) {\n      this.selectedCrews.splice(index, 1);\n    }\n  }\n\n  clearSelectedCrews(): void {\n    // Clear the selectedCrews array\n    this.selectedCrews = [];\n  }\n}"],"mappings":";AAEA,MAGaA,WAAW;EAKtBC,YAAA;IAJQ,KAAAC,SAAS,GAAU,EAAE;IACrB,KAAAC,aAAa,GAAQ,IAAI;IACzB,KAAAC,aAAa,GAAU,EAAE;EAElB;EAEfC,aAAaA,CAACC,KAAU;IACtB,OAAO,IAAI,CAACJ,SAAS,CAACK,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,IAAI,KAAK,OAAO,IAAID,IAAI,CAACE,EAAE,KAAKJ,KAAK,CAACI,EAAE,CAAC;EACrF;EAEAC,SAASA,CAACL,KAAU;IAClB,MAAMM,kBAAkB,GAAG,IAAI,CAACV,SAAS,CAACW,SAAS,CAAEL,IAAI,IAAKA,IAAI,CAACC,IAAI,KAAK,OAAO,CAAC;IACpF,IAAIG,kBAAkB,KAAK,CAAC,CAAC,EAAE;MAC7B;MACA,IAAI,CAACV,SAAS,CAACU,kBAAkB,CAAC,GAAGN,KAAK;KAC3C,MAAM;MACL;MACA,IAAI,CAACJ,SAAS,CAACY,IAAI,CAACR,KAAK,CAAC;;EAE9B;EAEAS,YAAYA,CAAA;IACV,OAAO,IAAI,CAACb,SAAS;EACvB;EAEAc,gBAAgBA,CAAA;IACd,OAAO,IAAI,CAACb,aAAa,CAAC,CAAC;EAC7B;;EAEAc,gBAAgBA,CAACX,KAAU;IACzB,IAAI,CAACH,aAAa,GAAGG,KAAK,CAAC,CAAC;EAC9B;EAGA;EAEAY,kBAAkBA,CAACC,OAAiB;IAClC,IAAI,CAACC,eAAe,GAAG,IAAIC,GAAG,CAACF,OAAO,CAAC;EACzC;EAEAG,kBAAkBA,CAAA;IAChB,OAAOC,KAAK,CAACC,IAAI,CAAC,IAAI,CAACJ,eAAe,CAAC;EACzC;EAEAK,gBAAgBA,CAACC,KAAY;IAC3B,IAAI,CAACtB,aAAa,GAAGsB,KAAK;EAC5B;EAEAC,gBAAgBA,CAAA;IACd,OAAO,IAAI,CAACvB,aAAa;EAC3B;EAEAwB,aAAaA,CAACC,IAAS;IACrB;IACA,MAAMC,YAAY,GAAG,IAAI,CAAC1B,aAAa,CAAC2B,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACtB,EAAE,KAAKmB,IAAI,CAACnB,EAAE,CAAC;IACrE,IAAI,CAACoB,YAAY,EAAE;MACjB,IAAI,CAAC1B,aAAa,CAACU,IAAI,CAACe,IAAI,CAAC;;EAEjC;EAEAI,kBAAkBA,CAACJ,IAAS;IAC1B;IACA,MAAMK,KAAK,GAAG,IAAI,CAAC9B,aAAa,CAACS,SAAS,CAAEmB,CAAC,IAAKA,CAAC,CAACtB,EAAE,KAAKmB,IAAI,CAACnB,EAAE,CAAC;IACnE,IAAIwB,KAAK,KAAK,CAAC,CAAC,EAAE;MAChB,IAAI,CAAC9B,aAAa,CAAC+B,MAAM,CAACD,KAAK,EAAE,CAAC,CAAC;;EAEvC;EAEAE,kBAAkBA,CAAA;IAChB;IACA,IAAI,CAAChC,aAAa,GAAG,EAAE;EACzB;;AAxEWJ,WAAW,C;mBAAXA,WAAW;AAAA;AAAXA,WAAW,C;SAAXA,WAAW;EAAAqC,OAAA,EAAXrC,WAAW,CAAAsC,IAAA;EAAAC,UAAA,EAFV;AAAM;SAEPvC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}