{"ast":null,"code":"import _asyncToGenerator from \"/home/syehino/Projects/Event-Management-System/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { EventModalComponent } from '../event-modal/event-modal.component';\nimport { catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport { environment } from '../../environments/environment';\nconst apiEndpoint = environment.apiEndpoint;\nlet EventListPage = class EventListPage {\n  constructor(http, modalController) {\n    this.http = http;\n    this.modalController = modalController;\n    this.selectedCardIndex = -1;\n    this.events = [];\n    this.selectedEvents = [];\n  }\n  ngOnInit() {\n    this.loadEvents();\n  }\n  presentModal(event, index) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.selectedCardIndex = index;\n      _this.selectedEvent = event;\n      const modal = yield _this.modalController.create({\n        component: EventModalComponent,\n        backdropDismiss: true,\n        componentProps: {\n          event: event\n        }\n      });\n      yield modal.present();\n    })();\n  }\n  loadEvents() {\n    const apiUrl = apiEndpoint; // Replace with your API endpoint\n    this.http.get(apiUrl).pipe(catchError(error => {\n      console.error(error);\n      return throwError('Error occurred while fetching events.'); // Customize the error message as needed\n    })).subscribe(response => {\n      this.events = response;\n    });\n  }\n};\nEventListPage = __decorate([Component({\n  selector: 'app-event-list',\n  templateUrl: './event-list.page.html',\n  styleUrls: ['./event-list.page.scss']\n})], EventListPage);\nexport { EventListPage };","map":{"version":3,"names":["Component","EventModalComponent","catchError","throwError","environment","apiEndpoint","EventListPage","constructor","http","modalController","selectedCardIndex","events","selectedEvents","ngOnInit","loadEvents","presentModal","event","index","_this","_asyncToGenerator","selectedEvent","modal","create","component","backdropDismiss","componentProps","present","apiUrl","get","pipe","error","console","subscribe","response","__decorate","selector","templateUrl","styleUrls"],"sources":["/home/syehino/Projects/Event-Management-System/src/app/event-list/event-list.page.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { EventModalComponent } from '../event-modal/event-modal.component';\nimport { HttpClient,HttpHeaders } from '@angular/common/http';\nimport { catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport { environment } from '../../environments/environment';\n\nconst apiEndpoint = environment.apiEndpoint;\n\n@Component({\n    selector: 'app-event-list',\n    templateUrl: './event-list.page.html',\n    styleUrls: ['./event-list.page.scss'],\n  })\n\nexport class EventListPage implements OnInit {\n  constructor(private http: HttpClient,private modalController: ModalController) { }\n\n  ngOnInit() {\n    this.loadEvents();\n  }\n\n  selectedCardIndex: number = -1;\n\n  events: any[] = [];\n  selectedEvent: any;\n  selectedEvents: any[] = [];\n\n  async presentModal(event:any,index: number) {\n    this.selectedCardIndex = index;\n    this.selectedEvent = event;\n\n    const modal = await this.modalController.create({\n      component: EventModalComponent,\n      backdropDismiss: true,\n      componentProps: {\n        event: event,\n      },\n    });\n  \n    await modal.present();\n  }\n\n  loadEvents() {\n    const apiUrl = apiEndpoint; // Replace with your API endpoint\n    this.http.get<any[]>(apiUrl )\n      .pipe(\n        catchError((error) => {\n          console.error(error);\n          return throwError('Error occurred while fetching events.'); // Customize the error message as needed\n        })\n      )\n      .subscribe((response) => {\n        this.events = response;\n      });\n    }\n\n}"],"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AAEjD,SAASC,mBAAmB,QAAQ,sCAAsC;AAE1E,SAASC,UAAU,QAAQ,gBAAgB;AAC3C,SAASC,UAAU,QAAQ,MAAM;AACjC,SAASC,WAAW,QAAQ,gCAAgC;AAE5D,MAAMC,WAAW,GAAGD,WAAW,CAACC,WAAW;AAQ3C,IAAaC,aAAa,GAA1B,MAAaA,aAAa;EACxBC,YAAoBC,IAAgB,EAASC,eAAgC;IAAzD,KAAAD,IAAI,GAAJA,IAAI;IAAqB,KAAAC,eAAe,GAAfA,eAAe;IAM5D,KAAAC,iBAAiB,GAAW,CAAC,CAAC;IAE9B,KAAAC,MAAM,GAAU,EAAE;IAElB,KAAAC,cAAc,GAAU,EAAE;EAVuD;EAEjFC,QAAQA,CAAA;IACN,IAAI,CAACC,UAAU,EAAE;EACnB;EAQMC,YAAYA,CAACC,KAAS,EAACC,KAAa;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACxCD,KAAI,CAACR,iBAAiB,GAAGO,KAAK;MAC9BC,KAAI,CAACE,aAAa,GAAGJ,KAAK;MAE1B,MAAMK,KAAK,SAASH,KAAI,CAACT,eAAe,CAACa,MAAM,CAAC;QAC9CC,SAAS,EAAEtB,mBAAmB;QAC9BuB,eAAe,EAAE,IAAI;QACrBC,cAAc,EAAE;UACdT,KAAK,EAAEA;;OAEV,CAAC;MAEF,MAAMK,KAAK,CAACK,OAAO,EAAE;IAAC;EACxB;EAEAZ,UAAUA,CAAA;IACR,MAAMa,MAAM,GAAGtB,WAAW,CAAC,CAAC;IAC5B,IAAI,CAACG,IAAI,CAACoB,GAAG,CAAQD,MAAM,CAAE,CAC1BE,IAAI,CACH3B,UAAU,CAAE4B,KAAK,IAAI;MACnBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACpB,OAAO3B,UAAU,CAAC,uCAAuC,CAAC,CAAC,CAAC;IAC9D,CAAC,CAAC,CACH,CACA6B,SAAS,CAAEC,QAAQ,IAAI;MACtB,IAAI,CAACtB,MAAM,GAAGsB,QAAQ;IACxB,CAAC,CAAC;EACJ;CAEH;AA1CY3B,aAAa,GAAA4B,UAAA,EANzBlC,SAAS,CAAC;EACPmC,QAAQ,EAAE,gBAAgB;EAC1BC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,wBAAwB;CACrC,CAAC,C,EAES/B,aAAa,CA0CzB;SA1CYA,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}